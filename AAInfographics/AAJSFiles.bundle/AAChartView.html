<!---->
<!-- AAChartView.html-->
<!-- AAChartKit-Swift-->
<!---->
<!-- Created by An An on 17/4/19.-->
<!-- Copyright Â© 2017å¹´ An An . All rights reserved.-->
<!--*************** ...... SOURCE CODE ...... ***************-->
<!--***...................................................***-->
<!--*** https://github.com/AAChartModel/AAChartKit        ***-->
<!--*** https://github.com/AAChartModel/AAChartKit-Swift  ***-->
<!--***...................................................***-->
<!--*************** ...... SOURCE CODE ...... ***************-->
<!--/*-->
<!---->
<!--* --------------------------------------------------------------------------------->
<!--* ğŸŒ• ğŸŒ– ğŸŒ— ğŸŒ˜ â€â€â€ WARM TIPS!!! â€â€â€ ğŸŒ‘ ğŸŒ’ ğŸŒ“ ğŸŒ”-->
<!--*-->
<!--* Please contact me on GitHub,if there are any problems encountered in use.-->
<!--* GitHub Issues : https://github.com/AAChartModel/AAChartKit-Swift/issues-->
<!--* --------------------------------------------------------------------------------->
<!--* And if you want to contribute for this project, please contact me as well-->
<!--* GitHub        : https://github.com/AAChartModel-->
<!--* StackOverflow : https://stackoverflow.com/users/7842508/codeforu-->
<!--* JianShu       : http://www.jianshu.com/u/f1e6753d4254-->
<!--* SegmentFault  : https://segmentfault.com/u/huanghunbieguan-->
<!--*-->
<!--* --------------------------------------------------------------------------------->
<!---->
<!--*/-->
<html>
    
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=3.0,user-scalable = no">
        <title>AAChartKit-Swift</title>
        <script src="AAHighchartsLib.js"></script>
        <script src="AAHighchartsMore.js"></script>
        <script src="AAFunnel.js"></script>
        <script src="AAOptionsConstructor.js"></script>
        <!-- <script src=" https://img.hcharts.cn/highcharts/themes/dark-unica.js">-->
        <!-- </script>-->
        <!-- è‹¥ä»‹æ„æœ¬åœ°jsä»£ç ä½“ç§¯(250KBå·¦å³)è¿‡å¤§ï¼Œå¯æ¢ç”¨åŠ è½½ç½‘ç»œjsä»£ç  -->
        <!-- <script src="https://img.hcharts.cn/highcharts/highcharts.js">-->
        <!-- </script>-->
        <!-- <script src="https://img.hcharts.cn/highcharts/highcharts-more.js">-->
        <!-- </script>-->
        <style>*{ -webkit-user-select: none; user-select: none; }</style>
    </head>
    
    <body>
        <div id="container" style="width:min-450px; height: 200px; margin: -8px"></div>
        <script>

            var aaGlobalChart;

            function loadTheHighChartView(sender, receivedWidth, receivedHeight) {
                var aaOptions = configureAAOptions(sender, receivedWidth, receivedHeight);

                var animationEasingType = aaOptions.plotOptions.series.animation.easing;
                if (animationEasingType) { //æ‡’è°ƒç”¨(åªæœ‰åœ¨ aaChartModel å®ä¾‹å¯¹è±¡è®¾ç½®äº† animationType å±æ€§å€¼çš„æ—¶å€™æ‰ä¼šè°ƒç”¨è®¾ç½®åŠ¨ç”»ç±»å‹çš„å‡½æ•°,å¦åˆ™ä¸è°ƒç”¨)
                    aaOptions.plotOptions.series.animation.easing = configureTheChartAnimationEasingType(animationEasingType);
                }
                aaOptions.credits = {
                    enabled: false
                }; //å»æ‰è¡¨æ ¼å³ä¸‹è§’ç‰ˆæƒä¿¡æ¯
                
                //å…¨å±€é…ç½®(å¯é€šè¿‡å…¨å±€é…ç½®è®¾ç½®ä¸»é¢˜)https://api.hcharts.cn/highcharts#Highcharts.setOptions
                Highcharts.setOptions({
                                      lang: {
                                          thousandsSep: ","
                                      }
                                      });
                
                aaGlobalChart = Highcharts.chart('container', aaOptions);
            };


            function configureTheChartAnimationEasingType(easingType) {
                switch (easingType) {
                case "easeInQuad":
                    return function(pos) {
                        return Math.pow(pos, 2);
                    };
                case "easeOutQuad":
                    return function(pos) {
                        return - (Math.pow((pos - 1), 2) - 1);
                    };
                case "easeInOutQuad":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(pos, 2);
                        return - 0.5 * ((pos -= 2) * pos - 2);
                    };
                case "easeInCubic":
                    return function(pos) {
                        return Math.pow(pos, 3);
                    };
                case "easeOutCubic":
                    return function(pos) {
                        return (Math.pow((pos - 1), 3) + 1);
                    };
                case "easeInOutCubic":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(pos, 3);
                        return 0.5 * (Math.pow((pos - 2), 3) + 2);
                    };
                case "easeInQuart":
                    return function(pos) {
                        return Math.pow(pos, 4);
                    };
                case "easeOutQuart":
                    return function(pos) {
                        return - (Math.pow((pos - 1), 4) - 1);
                    };
                case "easeInOutQuart":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(pos, 4);
                        return - 0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2);
                    };
                case "easeInQuint":
                    return function(pos) {
                        return Math.pow(pos, 5);
                    };
                case "easeOutQuint":
                    return function(pos) {
                        return (Math.pow((pos - 1), 5) + 1);
                    };
                case "easeInOutQuint":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(pos, 5);
                        return 0.5 * (Math.pow((pos - 2), 5) + 2);
                    };
                case "easeInSine":
                    return function(pos) {
                        return - Math.cos(pos * (Math.PI / 2)) + 1;
                    };
                case "easeOutSine":
                    return function(pos) {
                        return Math.sin(pos * (Math.PI / 2));
                    };
                case "easeInOutSine":
                    return function(pos) {
                        return ( - 0.5 * (Math.cos(Math.PI * pos) - 1));
                    };
                case "easeInExpo":
                    return function(pos) {
                        return (pos === 0) ? 0 : Math.pow(2, 10 * (pos - 1));
                    };
                case "easeOutExpo":
                    return function(pos) {
                        return (pos === 1) ? 1 : -Math.pow(2, -10 * pos) + 1;
                    };
                case "easeInOutExpo":
                    return function(pos) {
                        if (pos === 0) return 0;
                        if (pos === 1) return 1;
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (pos - 1));
                        return 0.5 * ( - Math.pow(2, -10 * --pos) + 2);
                    };
                case "easeInCirc":
                    return function(pos) {
                        return - (Math.sqrt(1 - (pos * pos)) - 1);
                    };
                case "easeOutCirc":
                    return function(pos) {
                        return Math.sqrt(1 - Math.pow((pos - 1), 2));
                    };
                case "easeInOutCirc":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return - 0.5 * (Math.sqrt(1 - pos * pos) - 1);
                        return 0.5 * (Math.sqrt(1 - (pos -= 2) * pos) + 1);
                    };
                case "easeOutBounce":
                    return function(pos) {
                        if ((pos) < (1 / 2.75)) {
                            return (7.5625 * pos * pos);
                        } else if (pos < (2 / 2.75)) {
                            return (7.5625 * (pos -= (1.5 / 2.75)) * pos + 0.75);
                        } else if (pos < (2.5 / 2.75)) {
                            return (7.5625 * (pos -= (2.25 / 2.75)) * pos + 0.9375);
                        } else {
                            return (7.5625 * (pos -= (2.625 / 2.75)) * pos + 0.984375);
                        }
                    };
                case "easeInBack":
                    return function(pos) {
                        var s = 1.70158;
                        return (pos) * pos * ((s + 1) * pos - s);
                    };
                case "easeOutBack":
                    return function(pos) {
                        var s = 1.70158;
                        return (pos = pos - 1) * pos * ((s + 1) * pos + s) + 1;
                    };
                case "easeInOutBack":
                    return function(pos) {
                        var s = 1.70158;
                        if ((pos /= 0.5) < 1) return 0.5 * (pos * pos * (((s *= (1.525)) + 1) * pos - s));
                        return 0.5 * ((pos -= 2) * pos * (((s *= (1.525)) + 1) * pos + s) + 2);
                    };
                case "elastic":
                    return function(pos) {
                        return - 1 * Math.pow(4, -8 * pos) * Math.sin((pos * 6 - 1) * (2 * Math.PI) / 2) + 1;
                    };
                case "swingFromTo":
                    return function(pos) {
                        var s = 1.70158;
                        return ((pos /= 0.5) < 1) ? 0.5 * (pos * pos * (((s *= (1.525)) + 1) * pos - s)) : 0.5 * ((pos -= 2) * pos * (((s *= (1.525)) + 1) * pos + s) + 2);
                    };
                case "swingFrom":
                    return function(pos) {
                        var s = 1.70158;
                        return pos * pos * ((s + 1) * pos - s);
                    };
                case "swingTo":
                    return function(pos) {
                        var s = 1.70158;
                        return (pos -= 1) * pos * ((s + 1) * pos + s) + 1;
                    };
                case "bounce":
                    return function(pos) {
                        if (pos < (1 / 2.75)) {
                            return (7.5625 * pos * pos);
                        } else if (pos < (2 / 2.75)) {
                            return (7.5625 * (pos -= (1.5 / 2.75)) * pos + 0.75);
                        } else if (pos < (2.5 / 2.75)) {
                            return (7.5625 * (pos -= (2.25 / 2.75)) * pos + 0.9375);
                        } else {
                            return (7.5625 * (pos -= (2.625 / 2.75)) * pos + 0.984375);
                        }
                    };
                case "bouncePast":
                    return function(pos) {
                        if (pos < (1 / 2.75)) {
                            return (7.5625 * pos * pos);
                        } else if (pos < (2 / 2.75)) {
                            return 2 - (7.5625 * (pos -= (1.5 / 2.75)) * pos + 0.75);
                        } else if (pos < (2.5 / 2.75)) {
                            return 2 - (7.5625 * (pos -= (2.25 / 2.75)) * pos + 0.9375);
                        } else {
                            return 2 - (7.5625 * (pos -= (2.625 / 2.75)) * pos + 0.984375);
                        }
                    };
                case "easeFromTo":
                    return function(pos) {
                        if ((pos /= 0.5) < 1) return 0.5 * Math.pow(pos, 4);
                        return - 0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2);
                    };
                case "easeFrom":
                    return function(pos) {
                        return Math.pow(pos, 4);
                    };
                case "easeTo":
                    return function(pos) {
                        return Math.pow(pos, 0.25);
                    }
                }
            }

            function onlyRefreshTheChartDataWithSeries(receivedSeries) {
                var receivedSeriesElementArr = JSON.parse(receivedSeries);

                for (var i = 0; i < receivedSeriesElementArr.length; i++) {
                    var receivedSeriesData = receivedSeriesElementArr[i].data;
                    // è·å–series
                    var chartSeries = aaGlobalChart.series[i];
                    // æ‰§è¡Œåªåˆ·æ–°æ•°æ®çš„å‡½æ•°
                    chartSeries.setData(receivedSeriesData);
                }
            }

            //pragma mark -- setter method é€‚åº”å†…å®¹https://code.hcharts.cn/highcharts/4YM0a8
            function setTheChartViewContentWidth(receivedWidth) {
                var container = document.getElementById('container'); //è·å¾—å…ƒç´ 
                container.style.width = receivedWidth; //è®¾ç½®å®½åº¦
                aaGlobalChart.reflow();
            }

            function setTheChartViewContentHeight(receivedHeight) {
                var container = document.getElementById('container'); //è·å¾—å…ƒç´ 
                container.style.height = receivedHeight; //è®¾ç½®é«˜åº¦
                aaGlobalChart.reflow();
            }
        

            function setChartSeriesHidden(hidden) {
                for (var i = 0; i < aaGlobalChart.series.length; i++) {
                    var series = aaGlobalChart.series[i];
                    if (hidden == true) {
                        series.hide()
                    } else {
                        series.show()
                    }
                }
            }

            function showTheSeriesElementContentWithIndex(elementIndex) {
                var series = aaGlobalChart.series[elementIndex];
                series.show()
            }
            
            function hideTheSeriesElementContentWithIndex(elementIndex) {
                var series = aaGlobalChart.series[elementIndex];
                series.hide()
            }
        
            </script>
    </body>

</html>
